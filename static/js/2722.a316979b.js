"use strict";(self["webpackChunkframe"]=self["webpackChunkframe"]||[]).push([[2722],{2722:function(e,t,s){s.r(t),s.d(t,{default:function(){return g}});var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("div",{staticClass:"head"},[t("HomeHeader",{ref:"refHomeHeader",on:{seach:e.topSeachFun}}),t("XuekeMenu",{ref:"refXuekeMenu",attrs:{classifyType:"classroom"},on:{XuekeClick:e.getXuekeSelect,Saixuan:e.getSaixuan}})],1),t("div",{staticClass:"listCon"},[t("div",{staticClass:"center"},[t("div",{staticClass:"list"},e._l(e.List,(function(s){return t("div",{key:s.id,staticClass:"item",on:{click:function(t){return e.jumpLink(s)}}},[t("div",{staticClass:"left"},[t("div",{staticClass:"imgCon"},[t("el-carousel",{attrs:{height:"280px",autoplay:!1,loop:!1}},e._l(s.images_text,(function(e,s){return t("el-carousel-item",{key:s},[t("img",{staticClass:"img",attrs:{src:e,alt:""}})])})),1)],1),t("div",{staticClass:"bot"},[t("div",{staticClass:"title"},[e._v(" "+e._s(s.name_arr)+" ")]),t("div",{staticClass:"tags",domProps:{innerHTML:e._s(e.formatTags(s))}},[e._v(" "+e._s()+" ")]),t("div",{staticClass:"addr"},[t("span",{staticClass:"addrright el-icon-location-information"},[e._v(" "+e._s(s.area_text)+" ")])]),t("div",{staticClass:"price"},[e._v(" $"+e._s(s.price)+" ")])])])])})),0),t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.querying,expression:"querying"}],staticClass:"loading"})])]),t("div",{staticClass:"foot"},[t("HomeFooter")],1)])},a=[],r=(s(7658),s(7994)),o=s(1768),n=s(8244),l=s(122),c={name:"login",components:{HomeHeader:r.Z,HomeFooter:o.Z,XuekeMenu:n.Z},data(){return{List:[],total:-1,query:{page:1,row:20,area:"",search_word:"",type:"0"},querying:!1}},created(){this.getList()},mounted(){window.addEventListener("scroll",this.handleScroll)},destroyed(){window.removeEventListener("scroll",this.handleScroll)},methods:{handleScroll(){window.innerHeight+window.scrollY>=document.body.offsetHeight&&(console.log("已经滚动到页面底部"),this.getList())},formatTags(e){let t=[`${e.area_size} ft<sup>2</sup>`,...e.label_text].filter((e=>!!e));return console.log(t),t.join(" / ")},jumpLink(e){this.$router.push({path:"/ClassroomDetail",query:{id:e.id}})},async getList(){if(!this.querying&&this.List?.length!==this.total){console.log("getList()",this.query),this.querying=!0;try{const e=await(0,l.BpN)(this.query);if(200===e.code){let t=e.data;this.total=t.total,this.List=[...this.List,...t.data],this.query.page++}}catch(e){console.error(e)}this.querying=!1}},getXuekeSelect(e){this.query={page:1,row:20,area:"",search_word:"",type:e.id},this.getList()},pageChange(e){this.query.page=e,this.getList()},ShouCangOrCancel(e){(0,l._J$)({id:e.id}).then((e=>{200==e.code&&this.getList()}))},topSeachFun(e){this.query.search_word=e,this.getList()},getSaixuan(e){this.query.area=e?.area.toString()||"",this.getList()}},watch:{"$route.query.first":function(e,t){this.query={page:1,row:15,search_word:"",subject_id:"0",area:"",course_type:"",course_way:"",gender:"",language:""},this.$refs.refXuekeMenu.refLRScrollMenuReset(),this.$refs.refHomeHeader.searchVal="",this.getList()}}},u=c,d=s(1001),h=(0,d.Z)(u,i,a,!1,null,"04bad369",null),g=h.exports}}]);