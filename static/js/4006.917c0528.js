"use strict";(self["webpackChunkframe"]=self["webpackChunkframe"]||[]).push([[4006],{4006:function(t,e,s){s.r(e),s.d(e,{default:function(){return T}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container bg100"},[e("home-header"),e("div",{staticClass:"content"},[e("div",{staticClass:"title-box"},[e("div",{staticClass:"title"},[t._v(t._s(t.$t("myPersonalInfo.ningdegerenxinxi")))]),e("div",{staticClass:"subTitle"},[t._v(t._s(t.$t("myPersonalInfo.qingbianjiningdegeren")))])]),e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"setting-box"},[t.userInfo?e("div",[e("editor-name",{attrs:{userInfo:t.userInfo},on:{complete:t.getUserInfo}}),e("el-divider"),e("editor-email",{attrs:{userInfo:t.userInfo},on:{complete:t.getUserInfo}}),e("el-divider"),e("editor-phone",{attrs:{userInfo:t.userInfo},on:{complete:t.getUserInfo}}),e("el-divider"),e("editor-region",{attrs:{userInfo:t.userInfo},on:{complete:t.getUserInfo}}),e("el-divider"),e("editor-password",{attrs:{userInfo:t.userInfo},on:{complete:t.getUserInfo}}),e("el-divider"),e("div",{staticClass:"editDetail"},[e("el-link",{on:{click:t.goDetail}},[t._v(t._s(t.$t("myPersonalInfo.edit_personal_info"))),e("i",{staticClass:"el-icon-arrow-right el-icon--right"})])],1)],1):t._e()])]),e("HomeFooter")],1)},r=[],a=(s(7658),function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("div",{staticClass:"label-line"},[e("div",{staticClass:"label"},[t._v(t._s(t.$t("myPersonalInfo.full_name")))]),e("el-link",{class:{"el-icon-edit":!t.isEdit},on:{click:t.switchEdit}},[t._v(t._s(t.$t(t.isEdit?"myPersonalInfo.quxiao":"myPersonalInfo.bianiji")))])],1),t.userInfo?e("div",{staticClass:"content"},[t.isEdit?e("div",[e("el-form",{ref:"ruleForm",staticClass:"ruleForm",attrs:{model:t.ruleForm,inline:!0,"label-position":"top",rules:t.rules}},[e("el-form-item",{staticClass:"formItem",attrs:{label:t.$t("myPersonalInfo.first_name"),prop:"name"}},[e("el-input",{attrs:{maxlength:50,"show-word-limit":""},model:{value:t.ruleForm.name,callback:function(e){t.$set(t.ruleForm,"name",e)},expression:"ruleForm.name"}})],1),e("el-form-item",{staticClass:"formItem",attrs:{label:t.$t("myPersonalInfo.last_name"),prop:"last_name"}},[e("el-input",{attrs:{maxlength:50,"show-word-limit":""},model:{value:t.ruleForm.last_name,callback:function(e){t.$set(t.ruleForm,"last_name",e)},expression:"ruleForm.last_name"}})],1)],1),e("el-button",{staticClass:"btn",attrs:{type:"primary",loading:t.submitting},on:{click:t.save}},[t._v(t._s(t.$t("myPersonalInfo.save")))])],1):e("div",[t._v(t._s(t.userInfo.name)+" "+t._s(t.userInfo.last_name))])]):t._e()])}),o=[],l=s(1206),n={name:"EditorName",props:{userInfo:{type:Object,required:!0}},data(){return{submitting:!1,isEdit:!1,ruleForm:{name:this.userInfo.name,last_name:this.userInfo.last_name},rules:{name:[{required:!0,message:this.$t("tip.required"),trigger:"blur"}],last_name:[{required:!0,message:this.$t("tip.required"),trigger:"blur"}]}}},watch:{userInfo(t){}},methods:{async save(){try{await this.$refs.ruleForm.validate(),this.submitting=!0;const t=await(0,l.cPE)(this.ruleForm);200===t.code&&(this.isEdit=!1,this.$emit("complete"))}catch(t){console.error(t)}this.submitting=!1},switchEdit(){this.isEdit=!this.isEdit,this.isEdit&&(this.ruleForm.name=this.userInfo.name,this.ruleForm.last_name=this.userInfo.last_name)}}},m=n,u=s(1001),c=(0,u.Z)(m,a,o,!1,null,"4a682710",null),d=c.exports,h=s(1809),f=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("div",{staticClass:"label-line"},[e("div",{staticClass:"label"},[t._v(t._s(t.$t("myPersonalInfo.dianziyoujiandizhi")))]),e("el-link",{class:{"el-icon-edit":!t.isEdit},on:{click:t.switchEdit}},[t._v(t._s(t.$t(t.isEdit?"myPersonalInfo.quxiao":"myPersonalInfo.bianiji")))])],1),t.userInfo?e("div",{staticClass:"content"},[t.isEdit?e("div",[e("el-form",{ref:"ruleForm",staticClass:"ruleForm",attrs:{model:t.ruleForm,inline:!0,"label-position":"top",rules:t.rules}},[e("el-form-item",{staticClass:"formItem",attrs:{label:t.$t("myPersonalInfo.dianziyoujiandizhi"),prop:"email"}},[e("el-input",{attrs:{maxlength:100,"show-word-limit":""},model:{value:t.ruleForm.email,callback:function(e){t.$set(t.ruleForm,"email",e)},expression:"ruleForm.email"}})],1)],1),e("el-button",{staticClass:"btn",attrs:{type:"primary",loading:t.submitting},on:{click:t.save}},[t._v(t._s(t.$t("myPersonalInfo.save")))])],1):e("div",[t._v(t._s(t.userInfo.email))])]):t._e(),e("div",{staticClass:"mask"})])},p=[],v={name:"EditorEmail",props:{userInfo:{type:Object,required:!0}},data(){return{submitting:!1,isEdit:!1,ruleForm:{email:this.userInfo.email},rules:{email:[{required:!0,message:this.$t("tip.required"),trigger:"blur"},{pattern:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,message:this.$t("tip.format_incorrect"),trigger:["blur"]}]}}},watch:{userInfo(t){}},methods:{async save(){try{await this.$refs.ruleForm.validate(),this.submitting=!0;const t=await(0,l.cPE)(this.ruleForm);200===t.code&&(this.isEdit=!1,this.$emit("complete"))}catch(t){console.error(t)}this.submitting=!1},switchEdit(){this.isEdit=!this.isEdit,this.isEdit&&(this.ruleForm.email=this.userInfo.email)}}},g=v,I=(0,u.Z)(g,f,p,!1,null,"9fd8c7c8",null),b=I.exports,_=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("div",{staticClass:"label-line"},[e("div",{staticClass:"label"},[t._v(t._s(t.$t("myPersonalInfo.shoujihao")))]),e("el-link",{class:{"el-icon-edit":!t.isEdit},on:{click:t.switchEdit}},[t._v(" "+t._s(t.$t(t.isEdit?"myPersonalInfo.quxiao":"myPersonalInfo.bianiji"))+" ")])],1),t.userInfo?e("div",{staticClass:"content"},[t.isEdit?e("div",[e("el-form",{ref:"ruleForm",staticClass:"ruleForm",attrs:{model:t.ruleForm,inline:!0,"label-position":"top",rules:t.rules}},[e("el-form-item",{staticClass:"formItem",attrs:{label:t.$t("myPersonalInfo.shoujihao"),prop:"phone"}},[e("el-input",{attrs:{maxlength:20,"show-word-limit":""},model:{value:t.ruleForm.phone,callback:function(e){t.$set(t.ruleForm,"phone",e)},expression:"ruleForm.phone"}})],1)],1),e("el-button",{staticClass:"btn",attrs:{type:"primary",loading:t.submitting},on:{click:t.save}},[t._v(t._s(t.$t("myPersonalInfo.save"))+" ")])],1):e("div",[t._v(t._s(t.userInfo.phone))])]):t._e(),e("div",{staticClass:"mask"})])},w=[],y={name:"EditorPhone",props:{userInfo:{type:Object,required:!0}},data(){return{submitting:!1,isEdit:!1,ruleForm:{phone:this.userInfo.phone},rules:{phone:[{required:!0,message:this.$t("tip.required"),trigger:"blur"}]}}},watch:{userInfo(t){}},methods:{async save(){try{await this.$refs.ruleForm.validate(),this.submitting=!0;const t=await(0,l.cPE)(this.ruleForm);200===t.code&&(this.isEdit=!1,this.$emit("complete"))}catch(t){console.error(t)}this.submitting=!1},switchEdit(){this.isEdit=!this.isEdit,this.isEdit&&(this.ruleForm.phone=this.userInfo.phone)}}},E=y,F=(0,u.Z)(E,_,w,!1,null,"f3e84d10",null),$=F.exports,C=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("div",{staticClass:"label-line"},[e("div",{staticClass:"label"},[t._v(t._s(t.$t("myPersonalInfo.country_region")))]),e("el-link",{class:{"el-icon-edit":!t.isEdit},on:{click:t.switchEdit}},[t._v(t._s(t.$t(t.isEdit?"myPersonalInfo.quxiao":"myPersonalInfo.bianiji")))])],1),t.userInfo?e("div",{staticClass:"content"},[t.isEdit?e("div",[e("el-form",{ref:"ruleForm",staticClass:"ruleForm",attrs:{model:t.ruleForm,inline:!0,"label-position":"top",rules:t.rules}},[e("el-form-item",{staticClass:"formItem",attrs:{label:t.$t("myPersonalInfo.country_region"),prop:"area"}},[e("el-input",{attrs:{maxlength:50,"show-word-limit":""},model:{value:t.ruleForm.area,callback:function(e){t.$set(t.ruleForm,"area",e)},expression:"ruleForm.area"}})],1)],1),e("el-button",{staticClass:"btn",attrs:{type:"primary",loading:t.submitting},on:{click:t.save}},[t._v(t._s(t.$t("myPersonalInfo.save")))])],1):e("div",[t._v(t._s(t.userInfo.area))])]):t._e(),e("div",{staticClass:"mask"})])},P=[],x={name:"EditorRegion",props:{userInfo:{type:Object,required:!0}},data(){return{loading:!1,submitting:!1,isEdit:!1,countryOptions:[],ruleForm:{area:this.userInfo.area||""},rules:{area:[{required:!0,message:this.$t("tip.required"),trigger:"blur"}]}}},created(){},watch:{userInfo(t){}},methods:{async getRegionList(){this.loading=!0;try{const t=await(0,l.TVX)();200===t.code&&(this.countryOptions=this.dataConverter(t.data))}catch(t){console.error(t)}this.loading=!1},dataConverter(t){for(let e of t){e.children=e.city;for(let t of e.children)t.children=t.area}return t},async save(){try{await this.$refs.ruleForm.validate(),this.submitting=!0;let t=this.ruleForm.area;const e=await(0,l.cPE)({area:t});200===e.code&&(this.isEdit=!1,this.$emit("complete"))}catch(t){console.error(t)}this.submitting=!1},switchEdit(){this.isEdit=!this.isEdit,this.isEdit&&(this.ruleForm.area=this.userInfo.area||"")}}},k=x,q=(0,u.Z)(k,C,P,!1,null,"58ccb710",null),j=q.exports,Z=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("div",{staticClass:"label-line"},[e("div",{staticClass:"label"},[t._v(t._s(t.$t("myPersonalInfo.mima")))]),e("el-link",{class:{"el-icon-edit":!t.isEdit},on:{click:t.switchEdit}},[t._v(t._s(t.$t(t.isEdit?"myPersonalInfo.quxiao":"myPersonalInfo.bianiji")))])],1),t.userInfo?e("div",{staticClass:"content"},[t.isEdit?e("div",[e("el-form",{ref:"ruleForm",staticClass:"ruleForm",attrs:{model:t.ruleForm,inline:!0,"label-position":"top",rules:t.rules}},[e("el-form-item",{staticClass:"formItem",attrs:{label:t.$t("myPersonalInfo.qingshurujiumima"),prop:"password"}},[e("el-input",{attrs:{"show-password":"",maxlength:50},model:{value:t.ruleForm.password,callback:function(e){t.$set(t.ruleForm,"password",e)},expression:"ruleForm.password"}})],1),e("el-form-item",{staticClass:"formItem",attrs:{label:t.$t("myPersonalInfo.xinmima"),prop:"newpsw"}},[e("el-input",{attrs:{maxlength:50,"show-password":""},model:{value:t.ruleForm.newpsw,callback:function(e){t.$set(t.ruleForm,"newpsw",e)},expression:"ruleForm.newpsw"}})],1),e("el-form-item",{staticClass:"formItem",attrs:{label:t.$t("myPersonalInfo.confirm_pwd"),prop:"cfmpsw"}},[e("el-input",{attrs:{maxlength:50,"show-password":""},model:{value:t.ruleForm.cfmpsw,callback:function(e){t.$set(t.ruleForm,"cfmpsw",e)},expression:"ruleForm.cfmpsw"}})],1)],1),e("el-button",{staticClass:"btn",attrs:{type:"primary",loading:t.submitting},on:{click:t.save}},[t._v(t._s(t.$t("myPersonalInfo.save")))])],1):e("div",[t._v(t._s(t.$t("myPersonalInfo.setup_pwd")))])]):t._e()])},U=[],z={name:"EditorPassword",props:{userInfo:{type:Object,required:!0}},data(){return{submitting:!1,isEdit:!1,ruleForm:{password:"",newpsw:"",cfmpsw:""},rules:{password:[{required:!0,message:this.$t("tip.required"),trigger:"blur"}],newpsw:[{required:!0,message:this.$t("tip.required"),trigger:"blur"}],cfmpsw:[{required:!0,message:this.$t("tip.required"),trigger:"blur"},{validator:(t,e,s)=>{e!==this.ruleForm.newpsw?s(new Error):s()},message:this.$t("myPersonalInfo.liangcishurumima"),trigger:"blur"}]}}},watch:{userInfo(t){}},methods:{async save(){try{await this.$refs.ruleForm.validate(),this.submitting=!0;const t=await(0,l.cPE)(this.ruleForm);200===t.code&&(this.isEdit=!1,this.$emit("complete"))}catch(t){console.error(t)}this.submitting=!1},switchEdit(){this.isEdit=!this.isEdit,this.isEdit&&(this.ruleForm.password="",this.ruleForm.newpsw="",this.ruleForm.cfmpsw="")}}},O=z,H=(0,u.Z)(O,Z,U,!1,null,"2edf6ec8",null),A=H.exports,D=s(8550),N={name:"AccountInfo",components:{HomeFooter:D.Z,EditorPassword:A,EditorRegion:j,EditorPhone:$,EditorEmail:b,HomeHeader:h.Z,EditorName:d},data(){return{userInfo:null,loading:!1}},mounted(){this.getUserInfo()},methods:{async getUserInfo(){this.loading=!0;try{const t=await(0,l.LUH)();200===t.code&&(this.userInfo=t.data)}catch(t){console.error(t)}this.loading=!1},goDetail(){this.$router.push("/personal-info")}}},R=N,L=(0,u.Z)(R,i,r,!1,null,"2c199a1e",null),T=L.exports}}]);