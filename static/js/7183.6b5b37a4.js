"use strict";(self["webpackChunkframe"]=self["webpackChunkframe"]||[]).push([[7183],{7183:function(e,t,s){s.r(t),s.d(t,{default:function(){return T}});var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container bg100"},[t("home-header"),t("div",{staticClass:"content"},[t("div",{staticClass:"title-box"},[t("div",{staticClass:"title"},[e._v(e._s(e.$t("myPersonalInfo.ningdegerenxinxi")))]),t("div",{staticClass:"subTitle"},[e._v(e._s(e.$t("myPersonalInfo.qingbianjiningdegeren")))])]),t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"setting-box"},[e.userInfo?t("div",[t("editor-name",{attrs:{userInfo:e.userInfo},on:{complete:e.getUserInfo}}),t("el-divider"),t("editor-email",{attrs:{userInfo:e.userInfo},on:{complete:e.getUserInfo}}),t("el-divider"),t("editor-phone",{attrs:{userInfo:e.userInfo},on:{complete:e.getUserInfo}}),t("el-divider"),t("editor-region",{attrs:{userInfo:e.userInfo},on:{complete:e.getUserInfo}}),t("el-divider"),t("editor-password",{attrs:{userInfo:e.userInfo},on:{complete:e.getUserInfo}}),t("el-divider"),t("div",{staticClass:"editDetail"},[t("el-link",{on:{click:e.goDetail}},[e._v(e._s(e.$t("myPersonalInfo.edit_personal_info"))),t("i",{staticClass:"el-icon-arrow-right el-icon--right"})])],1)],1):e._e()])]),t("HomeFooter")],1)},r=[],a=(s(7658),function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("div",{staticClass:"label-line"},[t("div",{staticClass:"label"},[e._v(e._s(e.$t("myPersonalInfo.full_name")))]),t("el-link",{class:{"el-icon-edit":!e.isEdit},on:{click:e.switchEdit}},[e._v(e._s(e.$t(e.isEdit?"myPersonalInfo.quxiao":"myPersonalInfo.bianiji")))])],1),e.userInfo?t("div",{staticClass:"content"},[e.isEdit?t("div",[t("el-form",{ref:"ruleForm",staticClass:"ruleForm",attrs:{model:e.ruleForm,inline:!0,"label-position":"top",rules:e.rules}},[t("el-form-item",{staticClass:"formItem",attrs:{label:e.$t("myPersonalInfo.first_name"),prop:"name"}},[t("el-input",{attrs:{maxlength:50,"show-word-limit":""},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),t("el-form-item",{staticClass:"formItem",attrs:{label:e.$t("myPersonalInfo.last_name"),prop:"last_name"}},[t("el-input",{attrs:{maxlength:50,"show-word-limit":""},model:{value:e.ruleForm.last_name,callback:function(t){e.$set(e.ruleForm,"last_name",t)},expression:"ruleForm.last_name"}})],1)],1),t("el-button",{staticClass:"btn",attrs:{type:"primary",loading:e.submitting},on:{click:e.save}},[e._v(e._s(e.$t("myPersonalInfo.save")))])],1):t("div",[e._v(e._s(e.userInfo.name)+" "+e._s(e.userInfo.last_name))])]):e._e()])}),o=[],l=s(1206),n={name:"EditorName",props:{userInfo:{type:Object,required:!0}},data(){return{submitting:!1,isEdit:!1,ruleForm:{name:this.userInfo.name,last_name:this.userInfo.last_name},rules:{name:[{required:!0,message:this.$t("tip.required"),trigger:"blur"}],last_name:[{required:!0,message:this.$t("tip.required"),trigger:"blur"}]}}},watch:{userInfo(e){}},methods:{async save(){try{await this.$refs.ruleForm.validate(),this.submitting=!0;const e=await(0,l.cPE)(this.ruleForm);200===e.code&&(this.isEdit=!1,this.$emit("complete"))}catch(e){console.error(e)}this.submitting=!1},switchEdit(){this.isEdit=!this.isEdit,this.isEdit&&(this.ruleForm.name=this.userInfo.name,this.ruleForm.last_name=this.userInfo.last_name)}}},m=n,u=s(1001),c=(0,u.Z)(m,a,o,!1,null,"4a682710",null),d=c.exports,h=s(271),f=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("div",{staticClass:"label-line"},[t("div",{staticClass:"label"},[e._v(e._s(e.$t("myPersonalInfo.dianziyoujiandizhi")))]),t("el-link",{class:{"el-icon-edit":!e.isEdit},on:{click:e.switchEdit}},[e._v(e._s(e.$t(e.isEdit?"myPersonalInfo.quxiao":"myPersonalInfo.bianiji")))])],1),e.userInfo?t("div",{staticClass:"content"},[e.isEdit?t("div",[t("el-form",{ref:"ruleForm",staticClass:"ruleForm",attrs:{model:e.ruleForm,inline:!0,"label-position":"top",rules:e.rules}},[t("el-form-item",{staticClass:"formItem",attrs:{label:e.$t("myPersonalInfo.dianziyoujiandizhi"),prop:"email"}},[t("el-input",{attrs:{maxlength:100,"show-word-limit":""},model:{value:e.ruleForm.email,callback:function(t){e.$set(e.ruleForm,"email",t)},expression:"ruleForm.email"}})],1)],1),t("el-button",{staticClass:"btn",attrs:{type:"primary",loading:e.submitting},on:{click:e.save}},[e._v(e._s(e.$t("myPersonalInfo.save")))])],1):t("div",[e._v(e._s(e.userInfo.email))])]):e._e(),t("div",{staticClass:"mask"})])},p=[],v={name:"EditorEmail",props:{userInfo:{type:Object,required:!0}},data(){return{submitting:!1,isEdit:!1,ruleForm:{email:this.userInfo.email},rules:{email:[{required:!0,message:this.$t("tip.required"),trigger:"blur"},{pattern:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,message:this.$t("tip.format_incorrect"),trigger:["blur"]}]}}},watch:{userInfo(e){}},methods:{async save(){try{await this.$refs.ruleForm.validate(),this.submitting=!0;const e=await(0,l.cPE)(this.ruleForm);200===e.code&&(this.isEdit=!1,this.$emit("complete"))}catch(e){console.error(e)}this.submitting=!1},switchEdit(){this.isEdit=!this.isEdit,this.isEdit&&(this.ruleForm.email=this.userInfo.email)}}},g=v,I=(0,u.Z)(g,f,p,!1,null,"9fd8c7c8",null),b=I.exports,_=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("div",{staticClass:"label-line"},[t("div",{staticClass:"label"},[e._v(e._s(e.$t("myPersonalInfo.shoujihao")))]),t("el-link",{class:{"el-icon-edit":!e.isEdit},on:{click:e.switchEdit}},[e._v(" "+e._s(e.$t(e.isEdit?"myPersonalInfo.quxiao":"myPersonalInfo.bianiji"))+" ")])],1),e.userInfo?t("div",{staticClass:"content"},[e.isEdit?t("div",[t("el-form",{ref:"ruleForm",staticClass:"ruleForm",attrs:{model:e.ruleForm,inline:!0,"label-position":"top",rules:e.rules}},[t("el-form-item",{staticClass:"formItem",attrs:{label:e.$t("myPersonalInfo.shoujihao"),prop:"phone"}},[t("el-input",{attrs:{maxlength:20,"show-word-limit":""},model:{value:e.ruleForm.phone,callback:function(t){e.$set(e.ruleForm,"phone",t)},expression:"ruleForm.phone"}})],1)],1),t("el-button",{staticClass:"btn",attrs:{type:"primary",loading:e.submitting},on:{click:e.save}},[e._v(e._s(e.$t("myPersonalInfo.save"))+" ")])],1):t("div",[e._v(e._s(e.userInfo.phone))])]):e._e(),t("div",{staticClass:"mask"})])},w=[],y={name:"EditorPhone",props:{userInfo:{type:Object,required:!0}},data(){return{submitting:!1,isEdit:!1,ruleForm:{phone:this.userInfo.phone},rules:{phone:[{required:!0,message:this.$t("tip.required"),trigger:"blur"}]}}},watch:{userInfo(e){}},methods:{async save(){try{await this.$refs.ruleForm.validate(),this.submitting=!0;const e=await(0,l.cPE)(this.ruleForm);200===e.code&&(this.isEdit=!1,this.$emit("complete"))}catch(e){console.error(e)}this.submitting=!1},switchEdit(){this.isEdit=!this.isEdit,this.isEdit&&(this.ruleForm.phone=this.userInfo.phone)}}},E=y,F=(0,u.Z)(E,_,w,!1,null,"f3e84d10",null),$=F.exports,C=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("div",{staticClass:"label-line"},[t("div",{staticClass:"label"},[e._v(e._s(e.$t("myPersonalInfo.country_region")))]),t("el-link",{class:{"el-icon-edit":!e.isEdit},on:{click:e.switchEdit}},[e._v(e._s(e.$t(e.isEdit?"myPersonalInfo.quxiao":"myPersonalInfo.bianiji")))])],1),e.userInfo?t("div",{staticClass:"content"},[e.isEdit?t("div",[t("el-form",{ref:"ruleForm",staticClass:"ruleForm",attrs:{model:e.ruleForm,inline:!0,"label-position":"top",rules:e.rules}},[t("el-form-item",{staticClass:"formItem",attrs:{label:e.$t("myPersonalInfo.country_region"),prop:"area"}},[t("el-cascader",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"countrySelect",attrs:{options:e.countryOptions,placeholder:e.$t("myPersonalInfo.country_region"),props:{value:"name_arr",label:"name_arr",children:"children",expandTrigger:"hover"}},model:{value:e.ruleForm.area,callback:function(t){e.$set(e.ruleForm,"area",t)},expression:"ruleForm.area"}})],1)],1),t("el-button",{staticClass:"btn",attrs:{type:"primary",loading:e.submitting},on:{click:e.save}},[e._v(e._s(e.$t("myPersonalInfo.save")))])],1):t("div",[e._v(e._s(e.userInfo.area))])]):e._e(),t("div",{staticClass:"mask"})])},P=[],x={name:"EditorRegion",props:{userInfo:{type:Object,required:!0}},data(){return{loading:!1,submitting:!1,isEdit:!1,countryOptions:[],ruleForm:{area:this.userInfo.area?.split(",")||[]},rules:{area:[{required:!0,message:this.$t("tip.required"),trigger:"blur"}]}}},created(){this.getRegionList()},watch:{userInfo(e){}},methods:{async getRegionList(){this.loading=!0;try{const e=await(0,l.TVX)();200===e.code&&(this.countryOptions=this.dataConverter(e.data))}catch(e){console.error(e)}this.loading=!1},dataConverter(e){for(let t of e){t.children=t.city;for(let e of t.children)e.children=e.area}return e},async save(){try{await this.$refs.ruleForm.validate(),this.submitting=!0;let e=this.ruleForm.area.join(",");const t=await(0,l.cPE)({area:e});200===t.code&&(this.isEdit=!1,this.$emit("complete"))}catch(e){console.error(e)}this.submitting=!1},switchEdit(){this.isEdit=!this.isEdit,this.isEdit&&(this.ruleForm.area=this.userInfo.area?.split(",")||[])}}},k=x,q=(0,u.Z)(k,C,P,!1,null,"d0db3b8e",null),j=q.exports,Z=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("div",{staticClass:"label-line"},[t("div",{staticClass:"label"},[e._v(e._s(e.$t("myPersonalInfo.mima")))]),t("el-link",{class:{"el-icon-edit":!e.isEdit},on:{click:e.switchEdit}},[e._v(e._s(e.$t(e.isEdit?"myPersonalInfo.quxiao":"myPersonalInfo.bianiji")))])],1),e.userInfo?t("div",{staticClass:"content"},[e.isEdit?t("div",[t("el-form",{ref:"ruleForm",staticClass:"ruleForm",attrs:{model:e.ruleForm,inline:!0,"label-position":"top",rules:e.rules}},[t("el-form-item",{staticClass:"formItem",attrs:{label:e.$t("myPersonalInfo.qingshurujiumima"),prop:"password"}},[t("el-input",{attrs:{"show-password":"",maxlength:50},model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,"password",t)},expression:"ruleForm.password"}})],1),t("el-form-item",{staticClass:"formItem",attrs:{label:e.$t("myPersonalInfo.xinmima"),prop:"newpsw"}},[t("el-input",{attrs:{maxlength:50,"show-password":""},model:{value:e.ruleForm.newpsw,callback:function(t){e.$set(e.ruleForm,"newpsw",t)},expression:"ruleForm.newpsw"}})],1),t("el-form-item",{staticClass:"formItem",attrs:{label:e.$t("myPersonalInfo.confirm_pwd"),prop:"cfmpsw"}},[t("el-input",{attrs:{maxlength:50,"show-password":""},model:{value:e.ruleForm.cfmpsw,callback:function(t){e.$set(e.ruleForm,"cfmpsw",t)},expression:"ruleForm.cfmpsw"}})],1)],1),t("el-button",{staticClass:"btn",attrs:{type:"primary",loading:e.submitting},on:{click:e.save}},[e._v(e._s(e.$t("myPersonalInfo.save")))])],1):t("div",[e._v(e._s(e.$t("myPersonalInfo.setup_pwd")))])]):e._e()])},O=[],U={name:"EditorPassword",props:{userInfo:{type:Object,required:!0}},data(){return{submitting:!1,isEdit:!1,ruleForm:{password:"",newpsw:"",cfmpsw:""},rules:{password:[{required:!0,message:this.$t("tip.required"),trigger:"blur"}],newpsw:[{required:!0,message:this.$t("tip.required"),trigger:"blur"}],cfmpsw:[{required:!0,message:this.$t("tip.required"),trigger:"blur"},{validator:(e,t,s)=>{t!==this.ruleForm.newpsw?s(new Error):s()},message:this.$t("myPersonalInfo.liangcishurumima"),trigger:"blur"}]}}},watch:{userInfo(e){}},methods:{async save(){try{await this.$refs.ruleForm.validate(),this.submitting=!0;const e=await(0,l.cPE)(this.ruleForm);200===e.code&&(this.isEdit=!1,this.$emit("complete"))}catch(e){console.error(e)}this.submitting=!1},switchEdit(){this.isEdit=!this.isEdit,this.isEdit&&(this.ruleForm.password="",this.ruleForm.newpsw="",this.ruleForm.cfmpsw="")}}},z=U,H=(0,u.Z)(z,Z,O,!1,null,"2edf6ec8",null),A=H.exports,N=s(5113),R={name:"AccountInfo",components:{HomeFooter:N.Z,EditorPassword:A,EditorRegion:j,EditorPhone:$,EditorEmail:b,HomeHeader:h.Z,EditorName:d},data(){return{userInfo:null,loading:!1}},mounted(){this.getUserInfo()},methods:{async getUserInfo(){this.loading=!0;try{const e=await(0,l.LUH)();200===e.code&&(this.userInfo=e.data)}catch(e){console.error(e)}this.loading=!1},goDetail(){this.$router.push("/personal-info")}}},D=R,L=(0,u.Z)(D,i,r,!1,null,"2c199a1e",null),T=L.exports}}]);