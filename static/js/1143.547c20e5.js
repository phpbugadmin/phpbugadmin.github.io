"use strict";(self["webpackChunkframe"]=self["webpackChunkframe"]||[]).push([[1143],{1143:function(e,t,s){s.r(t),s.d(t,{default:function(){return d}});var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("div",{staticClass:"head"},[t("HomeHeader",{ref:"refHomeHeader",on:{seach:e.topSeachFun}}),t("XuekeMenu",{ref:"refXuekeMenu",attrs:{seachVal:e.query.search_word,classifyType:"course"},on:{XuekeClick:e.getXuekeSelect,Saixuan:e.getSaixuan}})],1),t("div",{staticClass:"listCon"},[t("div",{staticClass:"center"},[t("div",{staticClass:"list"},e._l(e.List,(function(a){return t("div",{key:a.id,staticClass:"item",on:{click:function(t){return e.JumpDetail(a)}}},[t("div",{staticClass:"imgCon"},[t("el-carousel",{attrs:{height:"280px",autoplay:!1,loop:!1}},e._l(a.course_images_text,(function(e,s){return t("el-carousel-item",{key:s},[t("img",{staticClass:"img",attrs:{src:e,alt:""}})])})),1)],1),t("div",{staticClass:"bot"},[t("div",{staticClass:"titleCon"},[t("div",{staticClass:"title"},[e._v(e._s(a.name_arr))]),t("div",{staticClass:"right"},[t("span",{staticClass:"pingfen"},[e._v(e._s(a.total_value))]),t("i",{staticClass:"star fa fa-star"})])]),t("div",{staticClass:"dec"},[e._v(" "+e._s(a.subject_text)+"/"+e._s(e.ToXieGangString(a.course_label_text))+"/ "),a.teaching_age?t("span",[e._v(" 教龄"+e._s(a.teaching_age)+"年/ ")]):e._e(),a.education?t("span",[e._v("学历"+e._s(a.education)+"/")]):e._e(),a.course_times?t("span",[e._v("授课课时"+e._s(a.course_times)+"小时")]):e._e()]),t("div",{staticClass:"area el-icon-location-information"},[e._v(e._s(a.area_text))]),t("div",{staticClass:"price-row"},[t("div",{staticClass:"price"},[e._v(" $"+e._s(a.price)+" / "+e._s(e.$t("timeText.xiaoshi"))+" ")]),t("el-tooltip",{attrs:{effect:"dark",content:a.username,placement:"top-end"}},[t("el-avatar",{attrs:{src:a.avatar}})],1)],1),a.is_super_teacher?t("div",{staticClass:"superTeacherTipCon"},[t("img",{staticClass:"iconimg",attrs:{src:s(5371)}}),t("div",{staticClass:"text"},[e._v("超级教师")])]):e._e()]),t("i",{staticClass:"collect fa fa-heart",class:{active:a.is_collect},on:{click:function(t){return t.stopPropagation(),e.ShouCangOrCancel(a)}}})])})),0),t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.querying,expression:"querying"}],staticClass:"loading"})])]),t("div",{staticClass:"foot"},[t("HomeFooter")],1)])},i=[],r=(s(7658),s(6348)),o=s(6318),n=s(9239),c=s(122),l={name:"login",components:{HomeHeader:r.Z,HomeFooter:o.Z,XuekeMenu:n.Z},data(){return{List:[],total:-1,query:{page:1,row:15,search_word:"",subject_id:"0",area:"",course_type:"",course_way:"",gender:"",language:""},querying:!1,flag:""}},created(){this.getYaoQingMa(),this.getList(!0)},mounted(){window.addEventListener("scroll",this.handleScroll)},destroyed(){window.removeEventListener("scroll",this.handleScroll)},methods:{handleScroll(){window.innerHeight+window.scrollY>=document.body.offsetHeight&&(console.log("已经滚动到页面底部"),this.getList(!1))},async getList(e){if(e)this.total=-1,this.List=[],this.query.page=1,this.flag=Math.random();else if(this.querying)return;if(this.List?.length!==this.total){this.querying=!0;try{let e=await this.getListInternal(this.flag,this.query);if(this.flag===e.flag){let t=e.res;if(200===t.code){let e=t.data;this.total=e.total,this.List=[...this.List,...e.data],this.query.page++}}else console.log("wrong flag")}catch(t){console.error(t)}this.querying=!1}},async getListInternal(e,t){try{const s=await(0,c.Q6o)(t);return{res:s,flag:e}}catch(s){return Promise.reject(s)}},JumpDetail(e){this.$u.vuex("vuex_CourseYuYue."+e.id,""),this.$router.push({path:"/CourseDetail",query:{id:e.id}})},getXuekeSelect(e){this.query={page:1,row:15,search_word:"",subject_id:e.id,area:"",course_type:"",course_way:"",gender:"",language:""},this.getList(!0)},getSaixuan(e){console.log("console_data",JSON.parse(JSON.stringify(e))),this.query.area=e?.area.toString()||"",this.query.course_type=e.coureType,this.query.course_way=e.coureFangshi,this.query.gender=e.teacherGender,this.query.language=e.teacherLanguage,this.getList(!0)},async ShouCangOrCancel(e){try{const t=await(0,c.VPS)({id:e.id});200===t.code&&(e.is_collect=!e.is_collect,this.List=[...this.List])}catch(t){console.log(t)}},topSeachFun(e){this.query.search_word=e,this.getList(!0)},ToXieGangString(e){return!e||e.length<=0?"":e.join("/")},getYaoQingMa(){let e=this.$route.query.inviter_id;e&&this.$u.vuex("vuex_inviter_id",e),console.log(e)}},watch:{"$route.query.first":function(e,t){console.log(e+"==========="),this.query={page:1,row:15,search_word:"",subject_id:"0",area:"",course_type:"",course_way:"",gender:"",language:""},this.$refs.refXuekeMenu.refLRScrollMenuReset(),this.$refs.refHomeHeader.searchVal="",this.getList(!0)}}},u=l,g=s(1001),h=(0,g.Z)(u,a,i,!1,null,"87ff2ffa",null),d=h.exports}}]);